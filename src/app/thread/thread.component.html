<div id="thread" *ngIf="backend.openThread">
    <mat-toolbar>
        <span>thread{{ ' '+ backend.actualThreadDescription}}</span>

        <button mat-icon-button (click)="stopThreadWork()">
            <mat-icon>close</mat-icon>
        </button>
    </mat-toolbar>


    <div class="main">
        <div style="overflow-y: scroll; height: 100%;" #scrollMe [scrollTop]="scrollMe.scrollHeight">

                <div>
                    <mat-card class="m-3" style="background-color: #83dfe6;">
                        <mat-card-title>{{ backend.actualThreadMessage.creatorUserName }}</mat-card-title>
                        <mat-card-subtitle>{{ backend.actualThreadMessage.timestamp | date: 'dd.MM.y HH:mm' }}</mat-card-subtitle>
                        <mat-card-content>{{ backend.actualThreadMessage.messageContent }}</mat-card-content>
    
                        
    
                    </mat-card>

                </div>
            
                <div class="messagesContainer" *ngFor="let content of backend.actualThreadMessage.threadMessages">
                    <mat-card class="m-3">
                        <mat-card-title>{{ content.creatorUserName }}</mat-card-title>
                        <mat-card-subtitle>{{ content.timestamp | date: 'dd.MM.y HH:mm' }}</mat-card-subtitle>
                        <mat-card-content>{{ content.messageContent }}</mat-card-content>
    
                        
    
                </mat-card>
               
           
            </div>

            <div style="display: flex; margin: 1rem;">

                <button (click)="file.click()" mat-icon-button>
                    <input type="file" accept="image/*" #file
                        style="position: fixed; top: -100em;">
                    <mat-icon>photo_camera</mat-icon>
                </button>
    
                <form #messageInput="ngForm" (ngSubmit)="manageMessageSending(); messageInput.resetForm()"
                    class="hstack gap-2" style="width: 100%;">
    
    
    
                    <textarea class="form-control me-auto" [(ngModel)]="messageJson.messageContent" name="test" id=""
                        cdkTextareaAutosize #autosize="cdkTextareaAutosize" cdkAutosizeMinRows="1" cdkAutosizeMaxRows="5"
                        autofocus>
                </textarea>
    
    
                    <button type="submit" mat-icon-button>
                        <mat-icon>send</mat-icon>
                    </button>
    
                </form>

            </div>
        </div>

    </div>
</div>